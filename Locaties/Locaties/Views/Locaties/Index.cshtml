
@model IEnumerable<Locaties.Models.Locatie>

@{
    ViewBag.Title = "Locaties";
}

<script src="@Url.Content("~/Scripts/jquery2.1.4.min.js")" type="text/javascript"></script>
 Dit script bevat een functie die de latitude en longtitude doorsturen naar de controller. 
<script>
    // vraagt de coordinaten op.
    navigator.geolocation.getCurrentPosition(show_map);

    function show_map(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;

        // post de resultaten door naar de controller.
        var url = "/Locaties/Index?latitude=" + latitude + "&longtitude=" + longitude;
        $.post(url, function (data) {
        });
    }
</script>

<h2>Locaties</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Longitude)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Latitude)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Street)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ZipCode)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.StoreName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FacebookID)
        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Longitude)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Latitude)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Street)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.City)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ZipCode)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.StoreName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.FacebookID)
        </td>
    </tr>

}

</table>
